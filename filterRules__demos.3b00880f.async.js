"use strict";(self.webpackChunkdt_react_component=self.webpackChunkdt_react_component||[]).push([[1268],{77625:function(G,i,n){n.r(i);var A=n(90554),C=n.n(A),U=n(28870),E=n(48651),I=n.n(E),f=n(86516),B=n.n(f),P=n(83345),K=n.n(P),D=n(50425),W=n(79685),F=n(19576),L=n(52368),a=n(63342),S=function(t){var u=t.rowValues.input,c=t.rowKey,o=t.onChange;return(0,a.jsx)(D.default,{value:u,onChange:function(g){return o==null?void 0:o(c,{input:g.target.value})}})};i.default=function(){var h=(0,W.useState)(L.Bq),t=B()(h,2),u=t[0],c=t[1];return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(F.ZP,{component:function(s){return(0,a.jsx)(S,I()({},s))},value:u,onChange:function(s){return c(s)},initValues:L.jv}),(0,a.jsx)(U.default,{onClick:function(){return console.log(u)},children:"\u63A7\u5236\u53F0\u67E5\u770B\u6570\u636E"})]})}},1809:function(G,i,n){n.r(i);var A=n(48651),C=n.n(A),U=n(90554),E=n.n(U),I=n(28870),f=n(99764),B=n.n(f),P=n(9923),K=n(86516),D=n.n(K),W=n(83345),F=n.n(W),L=n(50425),a=n(79685),S=n(19576),h=n(52368),t=n(63342),u=function(o){var s=o.rowValues.input,g=o.rowKey,r=o.disabled,j=o.onChange;return(0,t.jsx)(L.default,{value:s,onChange:function(H){return j==null?void 0:j(g,{input:H.target.value})},disabled:r})};i.default=function(){var c=P.Z.useForm(),o=D()(c,1),s=o[0],g=(0,a.useState)(!1),r=D()(g,2),j=r[0],Z=r[1];return(0,a.useEffect)(function(){s.setFieldsValue({condition:h.Bq})},[]),(0,t.jsxs)(P.Z,{form:s,children:[(0,t.jsxs)(I.default,{style:{marginBottom:16},onClick:function(){return Z(!j)},children:[j?"\u7F16\u8F91":"\u67E5\u770B","\u72B6\u6001"]}),(0,t.jsx)(P.Z.Item,{name:"condition",children:(0,t.jsx)(S.ZP,{component:function(N){return(0,t.jsx)(u,C()({},N))},disabled:j,initValues:h.jv})})]})}},16358:function(G,i,n){n.r(i);var A=n(48651),C=n.n(A),U=n(88289),E=n.n(U),I=n(4125),f=n(73735),B=n.n(f),P=n(82549),K=n(86516),D=n.n(K),W=n(83345),F=n.n(W),L=n(50425),a=n(79685),S=n(19576),h=n(52368),t=n(63342),u=function(o){var s=o.rowValues.input,g=o.rowKey,r=o.onChange;return(0,t.jsx)(L.default,{value:s,onChange:function(Z){return r==null?void 0:r(g,{input:Z.target.value})}})};i.default=function(){var c=(0,a.useState)(h.Bq),o=D()(c,2),s=o[0],g=o[1],r=(0,a.useState)(2),j=D()(r,2),Z=j[0],H=j[1];return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(I.default,{style:{marginBottom:16},children:[(0,t.jsx)("span",{children:"\u6700\u5927\u5B50\u8282\u70B9\u4E2A\u6570:"}),(0,t.jsx)(P.Z,{value:Z,min:0,precision:0,onChange:function(O){return H(O!=null?O:0)}})]}),(0,t.jsx)(S.ZP,{component:function(O){return(0,t.jsx)(u,C()({},O))},value:s,maxSize:Z,onChange:function(O){return g(O)},initValues:h.jv})]})}},51801:function(G,i,n){n.r(i);var A=n(48651),C=n.n(A),U=n(67822),E=n.n(U),I=n(39153),f=n(86516),B=n.n(f),P=n(83345),K=n.n(P),D=n(50425),W=n(79685),F=n(19576),L=n(52368),a=n(63342),S=function(t){var u=t.rowValues.input,c=t.rowKey,o=t.onChange;return(0,a.jsx)(D.default,{value:u,onChange:function(g){return o==null?void 0:o(c,{input:g.target.value})}})};i.default=function(){var h=(0,W.useState)(L.AD),t=B()(h,2),u=t[0],c=t[1];return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(I.default,{message:"\u53EF\u4EE5\u901A\u8FC7\u64CD\u4F5C\u6309\u94AE\u589E\u52A0\u5220\u9664\u6570\u636E\uFF0C\u5207\u6362\u4E14\u6216\u8282\u70B9\u5185\u5BB9",style:{marginBottom:16}}),(0,a.jsx)(F.ZP,{component:function(s){return(0,a.jsx)(S,C()({},s))},value:u,onChange:function(s){return c(s)},initValues:L.jv})]})}},95789:function(G,i,n){n.r(i);var A=n(22786),C=n.n(A),U=n(46299),E=n.n(U),I=n(48651),f=n.n(I),B=n(90554),P=n.n(B),K=n(28870),D=n(86516),W=n.n(D),F=n(99764),L=n.n(F),a=n(9923),S=n(83345),h=n.n(S),t=n(50425),u=n(70300),c=n.n(u),o=n(79685),s=n(19576),g=n(52368),r=n(63342),j=function(H){var N=H.name;return(0,r.jsx)(a.Z.Item,{name:["condition"].concat(c()(N),["input"]),children:(0,r.jsx)(t.default,{})})};i.default=function(){var Z=a.Z.useForm(),H=W()(Z,1),N=H[0];return(0,r.jsxs)(a.Z,{form:N,children:[(0,r.jsx)(K.default,{onClick:function(){return N.setFieldsValue({condition:g.Bq})},style:{marginBottom:16},children:"\u6DFB\u52A0\u6570\u636E"}),(0,r.jsx)(a.Z.Item,{name:"condition",children:(0,r.jsx)(s.ZP,{component:function(y){return(0,r.jsx)(j,f()({},y))},notEmpty:{data:!1},initValues:g.jv})}),(0,r.jsx)(K.default,{onClick:E()(C()().mark(function O(){return C()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.t0=console,p.next=3,N.validateFields();case 3:return p.t1=p.sent,p.abrupt("return",p.t0.log.call(p.t0,p.t1));case 5:case"end":return p.stop()}},O)})),children:"\u63A7\u5236\u53F0\u67E5\u770B\u6570\u636E"})]})}},94034:function(G,i,n){n.r(i);var A=n(48651),C=n.n(A),U=n(67822),E=n.n(U),I=n(39153),f=n(86516),B=n.n(f),P=n(83345),K=n.n(P),D=n(50425),W=n(79685),F=n(19576),L=n(52368),a=n(63342),S=function(t){var u=t.rowValues.input,c=t.disabled,o=t.rowKey,s=t.onChange;return(0,a.jsx)(D.default,{value:u,disabled:c,onChange:function(r){return s==null?void 0:s(o,{input:r.target.value})}})};i.default=function(){var h=(0,W.useState)(L.jN),t=B()(h,2),u=t[0],c=t[1];return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(I.default,{message:"\u9002\u7528\u4E8E\u90E8\u5206\u6570\u636E\u7981\u7528\u4E14\u53EF\u4EE5\u7F16\u8F91\u5176\u4ED6\u6570\u636E\u3002\u5E38\u89C1\u4E1A\u52A1\u60C5\u666F\uFF1A\u4E0A\u4E00\u6B21\u4FDD\u5B58\u7684\u6570\u636E\u4E0D\u53EF\u4FEE\u6539\uFF0C\u4F46\u9700\u8981\u5728\u5F53\u524D\u57FA\u7840\u4E0A\u7EE7\u7EED\u65B0\u589E\u6570\u636E\u3002",style:{marginBottom:16}}),(0,a.jsx)(F.ZP,{component:function(s){return(0,a.jsx)(S,C()({},s))},value:u,onChange:function(s){return c(s)},initValues:L.jv})]})}},52368:function(G,i,n){n.d(i,{AD:function(){return P},Bq:function(){return f},jN:function(){return B},jv:function(){return I}});var A=n(48651),C=n.n(A),U=n(50576),E=n.n(U),I={input:""},f={key:E()(),level:0,rowValues:C()({},I)},B={key:E()(),level:0,type:1,children:[{rowValues:{input:""},disabled:!0,key:E()(),level:1},{key:E()(),type:1,level:2,disabled:!0,children:[{rowValues:{input:""},key:E()(),level:2},{key:E()(),rowValues:{input:""},level:2}]}]},P={key:E()(),level:1,type:1,children:[{rowValues:{input:""},key:E()(),level:1},{key:E()(),type:2,level:2,children:[{key:E()(),level:2,rowValues:{input:""}},{key:E()(),rowValues:{input:""},level:2}]}]}},19576:function(G,i,n){n.d(i,{de:function(){return r},NZ:function(){return j},ZP:function(){return N}});var A=n(48651),C=n.n(A),U=n(71089),E=n(75020),I=n(5677),f=n.n(I),B=n(79685),P=n(25043),K=n(50576),D=n.n(K),W=n(63062),F=n(70300),L=n.n(F),a=n(71074),S=n(68591),h=n.n(S),t=n(63342),u=32,c=16,o=new WeakMap,s=function(y){var p=y.value,tn=y.disabled,on=y.maxLevel,ln=y.maxSize,w=y.className,q=y.style,an=y.component,en=y.onAddCondition,rn=y.onDeleteCondition,dn=y.onChangeCondition,un=y.onChangeRowValues,Y=function(_){return(_==null?void 0:_.type)&&[r.AND,r.OR].includes(_==null?void 0:_.type)},cn=function k(_,X){var z=X||!!_.disabled;if(!(_!=null&&_.children))return o.set(_,{height:u+c,lineHeight:u});_.children.map(function(Q){return k(Q,z)});var $=!_.children.some(Y),x=Y(_.children[0]);if(z){var d=_.children.reduce(function(Q,nn){return Q+o.get(nn).height},0),b,M;if($)b=d-u-c;else{var J,mn=_.children[0],sn=_.children[_.children.length-1],En=o.get(mn).height-T(_,!0),Dn=Y(sn),vn=T(_,!1),hn=o.get(sn).height-c-vn;M=Dn?vn:u/2,b=En+((J=_.children)===null||J===void 0?void 0:J.slice(1,-1).reduce(function(Q,nn){return Q+o.get(nn).height},0))+hn}o.set(_,{bottom:M,lineHeight:b,height:d})}else{var V=_.children.reduce(function(Q,nn){return Q+o.get(nn).height},u),R;if($){var e=o.get(_.children[0]).height-c,m=u;R=V-e/2-m/2}else{var l,v=x?o.get(_.children[0]).lineHeight/2+u/2:u/2+c;R=v+((l=_.children)===null||l===void 0?void 0:l.slice(1).reduce(function(Q,nn){return Q+o.get(nn).height},u/2))}o.set(_,{height:V,lineHeight:R})}return _},T=function k(_,X){var z,$,x,V=X?_==null||(z=_.children)===null||z===void 0?void 0:z[0]:_==null||($=_.children)===null||$===void 0?void 0:$[(_==null||(x=_.children)===null||x===void 0?void 0:x.length)-1];if(!V)return u/2;var R=Y(V);if(R){var e;return((e=o.get(V))===null||e===void 0?void 0:e.lineHeight)/2+k(V,X)}return u/2},_n=function k(_,X,z){var $,x=z||!!_.disabled;if(_!=null&&($=_.children)!==null&&$!==void 0&&$.length){var V,R=function(d){var b=L()(X);return b.push.apply(b,["children",d]),b},e=o.get(_),m=e.lineHeight,l=e.bottom;return(0,t.jsxs)("div",{className:h()("dtc-ruleController__condition",{"dtc-ruleController__condition--active":_.children.length>1}),children:[(0,t.jsxs)("div",{className:h()("condition__box",{disabled:x}),style:{height:m,bottom:l!=null?l:c},children:[(0,t.jsx)("span",{className:h()("condition__box--name",{disabled:x}),onClick:function(){return!x&&dn(_.key,_==null?void 0:_.type)},children:j[_==null?void 0:_.type]}),_.children.length>1&&(0,t.jsx)("span",{className:h()("condition__box--line",{disabled:z})})]}),_.children.map(function(v,d){return k(v,R(d),x)}),!x&&(0,t.jsxs)("div",{className:"condition__add",children:[(0,t.jsx)("span",{className:"condition__add--line"}),(0,t.jsx)(a.PlusCircleOutlined,{className:h()("condition__add--icon",(_==null||(V=_.children)===null||V===void 0?void 0:V.length)>=ln&&"condition__add--icon--disabled"),onClick:function(){_!=null&&_.children&&_.children.length>=ln||en({key:_.key,isOut:!0})},"data-testid":"icon-plus"})]})]},_.key)}return(0,t.jsxs)("div",{className:"dtc-ruleController__item",children:[(p==null?void 0:p.children)&&(0,t.jsx)("span",{className:h()("dtc-ruleController__item--line",{disabled:z})}),(0,t.jsx)("div",{className:"dtc-ruleController__item--component",children:an({rowKey:_.key,disabled:x,name:[].concat(L()(X),["rowValues"]),rowValues:_.rowValues,onChange:un})}),!x&&(0,t.jsxs)("div",{className:"dtc-ruleController__item--operation",children:[_.level===on?null:(0,t.jsx)(a.PlusCircleOutlined,{className:"icon",onClick:function(){return en({key:_.key})},"data-testid":"icon-plus"}),(0,t.jsx)(a.MinusCircleOutlined,{className:"icon",onClick:function(){return rn(_.key)},"data-testid":"icon-minus"})]})]},_.key)};return p?(cn(p,!!tn),(0,t.jsx)("div",{className:h()("dtc-ruleController",w),style:q,children:_n(p,[],!!tn||!!p.disabled)})):null},g,r=function(O){return O[O.AND=1]="AND",O[O.OR=2]="OR",O}({}),j=(g={},f()(g,r.AND,"\u4E14"),f()(g,r.OR,"\u6216"),g);function Z(O){return O.disabled===!0}var H=function(y){var p=(0,W.Z)("FilterRules"),tn=y.component,on=y.disabled,ln=on===void 0?!1:on,w=y.value,q=!Z(y)&&y,an=q.maxLevel,en=an===void 0?5:an,rn=q.maxSize,dn=rn===void 0?100:rn,un=q.notEmpty,Y=un===void 0?{data:!0,message:p.message}:un,cn=q.initValues,T=q.onChange,_n=function R(e,m,l){var v,d=e;if(d.key===m)return d;if(!((v=d.children)!==null&&v!==void 0&&v.length))return null;for(var b=0;b<d.children.length;b++){var M=d.children[b];if(M.key===m)return l?M:d;var J=R(M,m,l);if(J)return J}},k=function(e){var m=(0,P.Z)(w),l=_n(m,e.key,e.isOut);_(l,e,cn),T==null||T(m)},_=function(e,m,l){var v=m.key;if(m.isOut)return e.children.push(Object.assign({},{rowValues:l},{key:D()(),level:e.level}));var d=e==null?void 0:e.children;if(!d){var b={key:e.key,level:e.level+1,type:r.AND,children:[{rowValues:e.rowValues,key:D()(),level:(e==null?void 0:e.level)+1},{rowValues:l,key:D()(),level:(e==null?void 0:e.level)+1}]};delete e.rowValues,Object.assign(e,b);return}for(var M=0;M<d.length;M+=1)d[M].key===v&&(e==null?void 0:e.level)<=en&&(d[M]={key:d[M].key,type:r.AND,level:(e==null?void 0:e.level)+1,children:[Object.assign({},d[M],{key:D()(),level:(e==null?void 0:e.level)+1}),Object.assign({key:D()(),rowValues:l,level:(e==null?void 0:e.level)+1})]})},X=function(e){var m=(0,P.Z)(w),l=_n(m,e,!1);if(Y.data&&!(l!=null&&l.children))return E.default.info(Y.message);if(!Y.data&&!(l!=null&&l.children))return T==null?void 0:T(void 0);z(l,e),T==null||T(m)},z=function(e,m){var l,v,d,b,M=e;if(M.children=(l=M)===null||l===void 0||(v=l.children)===null||v===void 0?void 0:v.filter(function(sn){return sn.key!==m}),((d=M)===null||d===void 0||(b=d.children)===null||b===void 0?void 0:b.length)===1){var J=$(M.children[0]),mn=M.key;delete M.children,delete M.type,M=Object.assign(M,C()(C()({},J),{},{key:mn,level:J.level}))}},$=function R(e){var m;e.children&&(m=e.children.map(function(v){return R(v)}));var l=C()(C()({},e),{},{children:m,level:(e==null?void 0:e.level)-1});return l},x=function(e,m){var l=(0,P.Z)(w),v=_n(l,e,!0);v.type=m===r.AND?r.OR:r.AND,T==null||T(l)},V=function(e,m){var l,v=(0,P.Z)(w),d=_n(v,e,!0);d.rowValues=C()(C()({},(l=d.rowValues)!==null&&l!==void 0?l:{}),m),T==null||T(v)};return(0,t.jsx)(s,{maxLevel:en,maxSize:dn,disabled:ln,value:w,component:tn,onAddCondition:k,onDeleteCondition:X,onChangeCondition:x,onChangeRowValues:V})},N=H},63062:function(G,i,n){n.d(i,{R:function(){return U}});var A=n(79685),C=n(28243),U=(0,A.createContext)({locale:{}}),E=function(f){var B=(0,A.useContext)(U),P=(0,A.useMemo)(function(){var K,D,W=(K=C.Z[f])!==null&&K!==void 0?K:{},F=(D=B==null?void 0:B.locale[f])!==null&&D!==void 0?D:{};return Object.assign({},W,F)},[f,B]);return P};i.Z=E},28243:function(G,i){var n={locale:"zh-CN",BlockHeader:{expand:"\u5C55\u5F00",collapse:"\u6536\u8D77"},Catalogue:{searchPlaceholder:"\u641C\u7D22\u76EE\u5F55\u540D\u79F0",inputPlaceholder:"\u8BF7\u8F93\u5165"},Chat:{stopped:"\u56DE\u7B54\u5DF2\u505C\u6B62",stop:"\u505C\u6B62\u56DE\u7B54",regenerate:"\u91CD\u65B0\u751F\u6210"},Copy:{copied:"\u590D\u5236\u6210\u529F",copy:"\u590D\u5236"},Dropdown:{selectAll:"\u5168\u9009",resetText:"\u91CD\u7F6E",okText:"\u786E\u5B9A"},ErrorBoundary:{please:"\u53D1\u73B0\u65B0\u7248\u672C\uFF0C\u8BF7",get:"\u83B7\u53D6\u65B0\u7248\u672C\u3002",refresh:"\u5237\u65B0",title:"\u82E5\u8BE5\u63D0\u793A\u957F\u65F6\u95F4\u5B58\u5728\uFF0C\u8BF7\u8054\u7CFB\u7BA1\u7406\u5458\u3002"},FilterRules:{message:"\u5FC5\u987B\u6709\u4E00\u6761\u6570\u636E"},Fullscreen:{exitFull:"\u9000\u51FA\u5168\u5C4F",full:"\u5168\u5C4F"},GlobalLoading:{loading:"\u5E94\u7528\u52A0\u8F7D\u4E2D\uFF0C\u8BF7\u7B49\u5019\uFF5E"},Input:{case:"\u533A\u5206\u5927\u5C0F\u5199\u5339\u914D",precise:"\u7CBE\u786E\u5339\u914D",front:"\u5934\u90E8\u5339\u914D",tail:"\u5C3E\u90E8\u5339\u914D"},NotFound:{description:"\u62B1\u6B49\uFF0C\u60A8\u8BBF\u95EE\u7684\u9875\u9762\u4E0D\u5B58\u5728"},SpreadSheet:{description:"\u6682\u65E0\u6570\u636E",copy:"\u590D\u5236\u503C",copyCol:"\u590D\u5236\u5217\u540D",copyAll:"\u590D\u5236\u5217\u540D\u548C\u503C"}};i.Z=n}}]);
